{"version":3,"sources":["../../assets/js/player.js"],"names":["player","playButton","document","getElementsByClassName","pauseButton","progressBar","currentTimeWidget","getElementById","durationWidget","track","getProgressPercentage","audioElement","currentTime","duration","toFixed","getProgressTime","Math","round","textContent","moment","utc","format","addEventListener","play","pause","percentage","seconds","setAttribute"],"mappings":"AAAA,IAAIA,SAAU,YAAY;AACtB,QAAIC,aAAaC,SAASC,sBAAT,CAAgC,MAAhC,EAAwC,CAAxC,CAAjB;AACA,QAAIC,cAAcF,SAASC,sBAAT,CAAgC,OAAhC,EAAyC,CAAzC,CAAlB;AACA,QAAIE,cAAcH,SAASC,sBAAT,CAAgC,cAAhC,EAAgD,CAAhD,CAAlB;AACA,QAAIG,oBAAoBJ,SAASK,cAAT,CAAwB,cAAxB,CAAxB;AACA,QAAIC,iBAAiBN,SAASK,cAAT,CAAwB,gBAAxB,CAArB;AACA,QAAIE,QAAQP,SAASK,cAAT,CAAwB,YAAxB,CAAZ;;AAEA,QAAIG,wBAAwB,UAAUC,YAAV,EAAwB;AAChD;AACA,eAAO,CAAEA,aAAaC,WAAb,GAAyBD,aAAaE,QAAvC,GAAiD,GAAlD,EAAuDC,OAAvD,CAA+D,CAA/D,CAAP;AACH,KAHD;;AAKA,QAAIC,kBAAkB,UAAUJ,YAAV,EAAwB;AAC1C;AACA,eAAOK,KAAKC,KAAL,CAAWN,aAAaC,WAAxB,CAAP;AACH,KAHD;;AAKA;AACAJ,mBAAeU,WAAf,GAA6BC,OAAOC,GAAP,CAAWX,MAAMI,QAAN,GAAiB,IAA5B,EAAkCQ,MAAlC,CAAyC,OAAzC,CAA7B;;AAEA;AACApB,eAAWqB,gBAAX,CAA4B,OAA5B,EAAqC,YAAY;AAC7C;AACAb,cAAMc,IAAN;AACH,KAHD;;AAKA;AACAnB,gBAAYkB,gBAAZ,CAA6B,OAA7B,EAAsC,YAAY;AAC9Cb,cAAMe,KAAN;AACH,KAFD;;AAIA;AACAf,UAAMa,gBAAN,CAAuB,YAAvB,EAAqC,YAAY;AAC7C;AACA,YAAIG,aAAaf,sBAAsBD,KAAtB,CAAjB;AACA,YAAIiB,UAAUX,gBAAgBN,KAAhB,CAAd;;AAEA;AACAJ,oBAAYsB,YAAZ,CAAyB,OAAzB,EAAkC,YAAYF,UAAZ,GAAyB,GAA3D;AACApB,oBAAYsB,YAAZ,CAAyB,eAAzB,EAA0CF,UAA1C;;AAEA;AACAnB,0BAAkBY,WAAlB,GAAgCC,OAAOC,GAAP,CAAWM,UAAU,IAArB,EAA2BL,MAA3B,CAAkC,OAAlC,CAAhC;AACH,KAXD;AAcH,CA/CY,EAAb","file":"player.js","sourcesContent":["var player = (function () {\r\n    var playButton = document.getElementsByClassName('play')[0];\r\n    var pauseButton = document.getElementsByClassName('pause')[0];\r\n    var progressBar = document.getElementsByClassName('progress-bar')[0];\r\n    var currentTimeWidget = document.getElementById('current-time');\r\n    var durationWidget = document.getElementById('track-duration');\r\n    var track = document.getElementById('liberation');\r\n    \r\n    var getProgressPercentage = function (audioElement) {\r\n        // Divide the currentTime by the duration, return the percentage.\r\n        return ((audioElement.currentTime/audioElement.duration)*100).toFixed(2);\r\n    }\r\n    \r\n    var getProgressTime = function (audioElement) {\r\n        // Return the current time without decimal precision \r\n        return Math.round(audioElement.currentTime)\r\n    }\r\n    \r\n    //Update our duration counter\r\n    durationWidget.textContent = moment.utc(track.duration * 1000).format('mm:ss');\r\n    \r\n    // Wire up our 'click' event on the play button\r\n    playButton.addEventListener('click', function () {\r\n        // Play the <audio> element\r\n        track.play();\r\n    });\r\n    \r\n    //Wire up our 'click' event listener on the pause button\r\n    pauseButton.addEventListener('click', function () {\r\n        track.pause();\r\n    });\r\n    \r\n    // Wire up the 'timeupdate' event listener on the audio element\r\n    track.addEventListener('timeupdate', function () {\r\n        // Get the track's percentage played\r\n        var percentage = getProgressPercentage(track);\r\n        var seconds = getProgressTime(track);\r\n        \r\n        // Update the progress bar's styles\r\n        progressBar.setAttribute('style', 'width: ' + percentage + '%');\r\n        progressBar.setAttribute('aria-valuenow', percentage);\r\n        \r\n        // Update the track's current time / duration widget\r\n        currentTimeWidget.textContent = moment.utc(seconds * 1000).format('mm:ss');\r\n    });\r\n    \r\n    \r\n})();"]}